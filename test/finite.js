parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"Wz0E":[function(require,module,exports) {
var define;
var t;!function(){var e={},n=function(t){return t.firstChild},i=[],r=function(t,e,n){void 0===n&&(n=!1);var i=t.attributes;if(i&&i.length)for(var s=0;s<i.length;s++){var u=i.item(s).name;u.startsWith("on")&&(t.removeAttribute(u),e(u.slice(2),t,n))}t.childNodes.forEach(function(t){1!==t.nodeType&&8!==t.nodeType||(8===t.nodeType&&("RAW_START"===t.data.trim()&&(n=!0),"RAW_END"===t.data.trim()&&(n=!1)),r(t,e,n))})},s=function(t,e,n){var i=t;return e.map(function(t,e){i=i.replace(new RegExp(t,"g"),n[e])}),i},u=function(t,e){return t.length===e.length&&t.every(function(t,n){return t===e[n]})},o=function(t){for(;n(t);)t.removeChild(n(t))},a=function(t,e){var s=document.createElement("template");return s.innerHTML=t.trim(),r(n(s.content),function(t,n,r){var s=r?i.shift():e.shift();n.addEventListener(t,"function"!=typeof s?function(){}:s)}),n(s.content)},c=function(){function t(t,e){this.lit=t,this.values=e,this.result="",this.events=[],this.isRaw=!1}return t.prototype.checkValues=function(t){return!!u(t,this.values)||(this._update(t),!1)},t.prototype.checkLiteral=function(t){return u(t,this.lit)},t.prototype.getResult=function(){return""===this.result&&this._update(),{result:this.result,events:this.events}},t.prototype.forceUpdate=function(){this._update()},t.prototype._update=function(t){var e=this;void 0===t&&(t=this.values),this.result="",this.events=[],this.isRaw&&(this.result+="\n\x3c!-- RAW_START --\x3e\n"),t.forEach(function(t,n){var i=e.lit[n];if(Array.isArray(t)&&(t=t.join("")),i.endsWith("$")&&(t=function(t){return s(t,["&",">","<",'"',"'","`"],["&amp;","&gt;","&quot;","&#39;","&#39;","&#96;"])}(t),i=i.slice(0,-1)),e.result+=i,i.endsWith("=")||i.endsWith('="')){i.split(" ").pop().startsWith("on")&&e.events.push(t);var r=s(t.toString(),["'",'"'],["'","'"]);i.endsWith("=")&&(e.result+='"'+r+'"'),i.endsWith('="')&&(e.result+=""+r)}else e.result+=t}),this.result+=this.lit[this.lit.length-1],this.isRaw&&(this.result+="\n\x3c!-- RAW_END --\x3e\n")},t}(),l=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new c(t.raw,e)},h=function(t){t.isRaw=!0,t.forceUpdate();var e=t.getResult(),n=e.result;return function(t){i=i.concat(t)}(e.events),n},f=new WeakMap,d=function(t,e){var n=f.get(e);n&&n.checkLiteral(t.lit)?n.checkValues(t.values)||(o(e),e.appendChild(a(n.result,n.events))):function(){var n=t.getResult(),i=n.result,r=n.events;f.set(e,t),o(e),e.appendChild(a(i,r))}()};window.html=l,window.render=d,window.raw=h,e.raw=h,e.render=d,e.html=l,"object"==typeof exports&&"undefined"!=typeof module?module.exports=e:"function"==typeof t&&t.amd&&t(function(){return e})}();
},{}],"Jvgn":[function(require,module,exports) {
"use strict";function e(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function r(r,t,n){if(!t)return null;return!Array.isArray(t)&&(t=[t]),function r(i){var u=t.shift();if(Array.isArray(i)){var a=i.slice();return a[u]=t.length?r(a[u]):n,a}return Object.assign({},i,e({},u,t.length?r(i[u]):n))}(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;
},{}],"b9XL":[function(require,module,exports) {
function o(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?module.exports=o=function(o){return typeof o}:module.exports=o=function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},o(t)}module.exports=o;
},{}],"BokN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=function(r){return e(r)&&!t(r)};function e(r){return!!r&&"object"==typeof r}function t(r){var e=Object.prototype.toString.call(r);return"[object RegExp]"===e||"[object Date]"===e||a(r)}var n="function"==typeof Symbol&&Symbol.for,o=n?Symbol.for("react.element"):60103;function a(r){return r.$$typeof===o}function c(r){return Array.isArray(r)?[]:{}}function u(r,e){return!1!==e.clone&&e.isMergeableObject(r)?y(c(r),r,e):r}function i(r,e,t){return r.concat(e).map(function(r){return u(r,t)})}function f(r,e,t){var n={};return t.isMergeableObject(r)&&Object.keys(r).forEach(function(e){n[e]=u(r[e],t)}),Object.keys(e).forEach(function(o){t.isMergeableObject(e[o])&&r[o]?n[o]=y(r[o],e[o],t):n[o]=u(e[o],t)}),n}function y(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||i,n.isMergeableObject=n.isMergeableObject||r;var o=Array.isArray(t);return o===Array.isArray(e)?o?n.arrayMerge(e,t,n):f(e,t,n):u(t,n)}y.all=function(r,e){if(!Array.isArray(r))throw new Error("first argument should be an array");return r.reduce(function(r,t){return y(r,t,e)},{})};var b=y,l=b;exports.default=l;
},{}],"KomH":[function(require,module,exports) {
"use strict";var e=r(require("@babel/runtime/helpers/typeof"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var o=t(require("deepmerge"));function n(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];console.log(e)}exports.inject=function(e,r){return function(t){return e(t,r)}},exports.log=n,exports.loopNestedObj=function(r,t,o){void 0===o&&(o=[]),Object.entries(r).forEach(function(r){var n=r[0],u=r[1];!u||"object"!==(0,e.default)(u)||u instanceof Promise?t(u,o.concat([n])):exports.loopNestedObj(u,t,o.concat([n]))})},exports.merge=function(e,r){return o.default(e,r,{arrayMerge:function(e,r){return r}})};
},{"@babel/runtime/helpers/typeof":"b9XL","deepmerge":"BokN"}],"YUqJ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(){this.states=[],this.point=null,this.pointer=null}return t.prototype.add=function(t){this.states.push(t)},t.prototype.find=function(t){return this.states.find(function(n){return n.name===t})},t.prototype.setMountPoint=function(t){this.point=t},t.prototype.getMountPoint=function(){return this.point},t}();exports.Machine=t;
},{}],"cIvg":[function(require,module,exports) {
"use strict";var t=this&&this.__assign||Object.assign||function(t){for(var r,e=1,n=arguments.length;e<n;e++)for(var i in r=arguments[e])Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i]);return t},r=this&&this.__rest||function(t,r){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&r.indexOf(n)<0&&(e[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(t);i<n.length;i++)r.indexOf(n[i])<0&&(e[n[i]]=t[n[i]])}return e};exports.__esModule=!0;var e=require("../common/utils"),n=function(){function n(t){var e=t.name,n=t.view,i=t.memory,o=void 0===i?{}:i,s=t.transitions,a=void 0===s?[]:s,u=r(t,["name","view","memory","transitions"]);this.name=e,this.view=n,this.memory=o,this.transitions=a,this.rest=u}return n.prototype.findTransitionsByName=function(t){return this.transitions.find(function(r){return r.name===t})},n.prototype.restWithMemory=function(){var r=this;return Object.keys(this.rest).reduce(function(n,i){var o;return t({},n,((o={})[i]=e.inject(r.rest[i],r.memory),o))},{})},n}();exports.State=n;
},{"../common/utils":"KomH"}],"Ya9Q":[function(require,module,exports) {
"use strict";var e=this&&this.__assign||Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var o in n=arguments[t])Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o]);return e},n=this&&this.__rest||function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&(t[r[o]]=e[r[o]])}return t},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};exports.__esModule=!0;var r=require("picohtml"),o=t(require("updatein")),i=require("../common/utils"),m=require("../machine/machine"),a=require("../state/state"),s=new m.Machine,u=function(){function t(){}return t.State=function(t){var r=t.name,o=t.view,i=t.memory,m=t.transitions,u=n(t,["name","view","memory","transitions"]),c=new a.State(e({name:r,view:o,memory:i,transitions:m},u));return s.add(c),c},t.AsyncTransition=function(e,n){void 0===n&&(n={});var t=s.pointer,m=t.findTransitionsByName(e).to,a=s.find(m),u=[];i.loopNestedObj(n,function(e,n){e instanceof Promise&&u.push([e,n])}),Promise.all(u.reduce(function(e,n){return e.concat([n[0]])},[])).then(function(c){c.map(function(e,t){n=o.default(n,u[t][1],e)}),a.memory=i.merge(a.memory,n),s.pointer=a,i.log("ASYNC TRANSITION",e,t.name+" -> "+m,a.memory),r.render(a.view(i.merge(a.memory,a.restWithMemory())),s.getMountPoint())})},t.Transition=function(e,n){void 0===n&&(n={});var t=s.pointer,o=t.findTransitionsByName(e).to,m=s.find(o);m.memory=i.merge(m.memory,n),s.pointer=m,i.log("TRANSITION",e,t.name+" -> "+o," "+t.memory+"->"+m.memory),r.render(m.view(i.merge(m.memory,m.restWithMemory())),s.getMountPoint())},t.Render=function(e,n){s.setMountPoint(n),s.pointer=e,i.log("INIT_STATE",e.name||"Anonymous",e.memory),r.render(e.view(i.merge(e.memory,e.restWithMemory())),n)},t.T=function(e,n){return{name:e,to:n}},t}();exports.Finite=u;
},{"picohtml":"Wz0E","updatein":"Jvgn","../common/utils":"KomH","../machine/machine":"YUqJ","../state/state":"cIvg"}],"QCba":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var i=require("picohtml");exports.h=i.html,exports.raw=i.raw;var n=require("./finite/finite");window.h=i.html,window.raw=i.raw,window.Finite=n.Finite,window.State=n.Finite.State,window.Render=n.Finite.Render,window.Transition=n.Finite.Transition,window.AsyncTransition=n.Finite.AsyncTransition,window.T=n.Finite.T,exports.State=n.Finite.State,exports.Render=n.Finite.Render,exports.Transition=n.Finite.Transition,exports.AsyncTransition=n.Finite.AsyncTransition,exports.T=n.Finite.T,exports.default=n.Finite;
},{"picohtml":"Wz0E","./finite/finite":"Ya9Q"}]},{},["QCba"], null)